!function(o){var t={x:0,y:0};o(document).mousemove(function(o){t={x:o.pageX,y:o.pageY}}),o.fn.burstAnimation=function(e){var i=o.extend({event:"click",container:"parent"},e);return o(this).each(function(){var e=o(this),a="parent"===i.container?e.parent():e.closest(i.container),n=o('<div class="burst-animation-overlay"></div>'),s=o('<div class="burst-circle"></div>').appendTo(n);e.on(i.event,function(){n.appendTo(a),s.css({top:t.y-a.offset().top,left:t.x-a.offset().left,opacity:.1,scale:1}).transition({opacity:0,scale:a.width()},500,"ease",function(){n.detach()})})})},o.fn.northIsVisible=function(){var o=this[0].getBoundingClientRect();return o.bottom>=0&&o.right>=0&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)},o.fn.northSmoothScroll=function(){o(this).click(function(t){var e=o(this),i=o(o("[name="+this.hash.slice(1)+"]").length?"[name="+this.hash.slice(1)+"]":e.get(0).hash);if(i.length){var a=0;return o("#masthead").hasClass("sticky-menu")&&o("#masthead").data("scale-logo")?a+=i.offset().top<48?o("#masthead").outerHeight():o(".site-branding").outerHeight()>o("#site-navigation").outerHeight()?o("#masthead").outerHeight()*siteoriginNorth.logoScale:o("#masthead").height()+(o("#masthead").innerHeight()-o("#masthead").height()):o("#masthead").hasClass("sticky-menu")&&(a+=o("#masthead").outerHeight()),o("body").hasClass("admin-bar")&&(a+=o("#wpadminbar").outerHeight()),o("html, body").animate({scrollTop:i.offset().top-a},1e3),!1}})}}(jQuery),jQuery(function(o){if(o(".entry-meta a").hover(function(){o(this).closest("li").addClass("hovering")},function(){o(this).closest("li").removeClass("hovering")}),"undefined"!=typeof o.fn.fitVids&&o(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&o("body").removeClass("no-touch"),o("body").hasClass("no-touch")||(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&o("body").css("cursor","pointer"),o(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){o(this).click(function(t){var e=o(this);t.stopPropagation(),e.parent().addClass("touch-drop"),e.hasClass("hover")?e.unbind("click"):(e.addClass("hover"),t.preventDefault()),o(".main-navigation #primary-menu > .menu-item-has-children:not(.touch-drop) > a").click(function(){e.removeClass("hover").parent().removeClass("touch-drop")}),o(document).click(function(){e.removeClass("hover").parent().removeClass("touch-drop")})})})),o("body.no-js").removeClass("no-js"),o("body").hasClass("css3-animations")){o(".search-field").burstAnimation({event:"focus",container:".search-form"});var t=function(){o(".main-navigation ul ul").each(function(){var t=o(this),e=Math.max.apply(Math,t.find("> li > a").map(function(){return o(this).width()}).get());t.find("> li > a").width(e)})};t(),o(window).resize(t);var e=function(){o("#primary-menu > li > ul.sub-menu").each(function(){var t=o(this),e=-(t.parents("li").width()-t.width())/2;t.css("left",-e)})};e(),o(".menu-item").children("a").focus(function(){o(this).parents("ul, li").addClass("focus")}),o(".menu-item").children("a").click(function(){o(this).parents("ul, li").removeClass("focus")}),o(".menu-item").children("a").focusout(function(){o(this).parents("ul, li").removeClass("focus")}),o(".main-navigation ul ul li a").burstAnimation({event:"click",container:"parent"})}var i=!1;o("#mobile-menu-button").click(function(t){t.preventDefault();var e=o(this);if(e.toggleClass("to-close"),i===!1){i=o("<div></div>").append(o(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide(),o("#header-search form").length&&i.append(o("#header-search form").clone()),o(".main-navigation .shopping-cart").length&&i.append(o(".main-navigation .shopping-cart .shopping-cart-link").clone()),i.find("#primary-menu").show().css("opacity",1),i.find(".menu-item-has-children > a").addClass("has-dropdown"),i.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="north-icon-next"></i></button>'),i.find(".dropdown-toggle").click(function(t){t.preventDefault(),o(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),i.find(".has-dropdown").click(function(t){"undefined"!=typeof o(this).attr("href")&&"#"!=o(this).attr("href")||(t.preventDefault(),o(this).siblings(".dropdown-toggle").trigger("click"))});var a=function(){if(o("#masthead").hasClass("sticky-menu")){var t="fixed"===o("#wpadminbar").css("position")?o("#wpadminbar").outerHeight():0,e=o("#topbar").outerHeight(),i=o("#masthead").innerHeight();if(o("body").hasClass("no-topbar")||!o("body").hasClass("no-topbar")&&o("body").hasClass("topbar-out"))var a=o(window).height()-i-t;else if(!o("body").hasClass("no-topbar")&&!o("body").hasClass("topbar-out"))var a=o(window).height()-i-t-e;o("#mobile-navigation").css("max-height",a)}};a(),o(window).resize(a),o("#mobile-navigation").scroll(a)}i.slideToggle("fast"),o("#mobile-navigation a").click(function(t){(!o(this).hasClass("has-dropdown")||"undefined"!=typeof o(this).attr("href")&&"#"!==o(this).attr("href"))&&(i.is(":visible")&&i.slideUp("fast"),e.removeClass("to-close"))}),siteoriginNorth.smoothScroll&&o('#mobile-navigation a[href*="#"]:not([href="#"])').northSmoothScroll()});var a=function(){var t=window.pageYOffset||document.documentElement.scrollTop;t>o("#masthead").outerHeight()?o("#scroll-to-top").hasClass("show")||o("#scroll-to-top").css("pointer-events","auto").addClass("show"):o("#scroll-to-top").hasClass("show")&&o("#scroll-to-top").css("pointer-events","none").removeClass("show")};if(a(),o(window).scroll(a),o("#scroll-to-top").click(function(){o("html,body").animate({scrollTop:0})}),o("#masthead").hasClass("sticky-menu")){var n=!1,s=o("#masthead"),r=o("#topbar"),l=o("#wpadminbar"),c=function(){o(window).scrollTop()>0?o(s).addClass("floating"):o(s).removeClass("floating")};c(),o(window).scroll(c);var h={top:parseInt(s.css("padding-top")),bottom:parseInt(s.css("padding-bottom"))};if(s.data("scale-logo")){var d=s.find(".site-branding img"),u=d.width(),m=d.height();scaledWidth=u*siteoriginNorth.logoScale,scaledHeight=m*siteoriginNorth.logoScale;var f=function(){var t=s.find(".site-branding > *"),e=window.pageYOffset||document.documentElement.scrollTop;if(e>0?s.css({"padding-top":h.top*siteoriginNorth.logoScale,"padding-bottom":h.bottom*siteoriginNorth.logoScale}):s.css({"padding-top":h.top,"padding-bottom":h.bottom}),d.length){if(d.height()!=scaledHeight||d.width()!=scaledWidth){var i=siteoriginNorth.logoScale+Math.max(0,48-e)/48*(1-siteoriginNorth.logoScale);o(".site-branding img").css({width:u*i,height:m*i,"max-width":"none"})}}else e>0?t.css("transform","scale("+siteoriginNorth.logoScale+")"):t.css("transform","scale(1)")};f(),o(window).scroll(f).resize(f)}var p=function(){n===!1&&(n=o('<div class="masthead-sentinel"></div>').insertAfter(s)),o("body").hasClass("page-layout-menu-overlap")||n.css("height",s.outerHeight()),o("body").hasClass("no-topbar")||r.northIsVisible()||o("body").addClass("topbar-out"),r.length&&o("body").hasClass("topbar-out")&&r.northIsVisible()&&o("body").removeClass("topbar-out"),o("body").hasClass("no-topbar")||!o("body").hasClass("no-topbar")&&o("body").hasClass("topbar-out")?s.css("position","fixed"):o("body").hasClass("no-topbar")||o("body").hasClass("topbar-out")||s.css("position","absolute"),o("body").hasClass("no-topbar")&&!o(window).scrollTop()&&o("body").addClass("topbar-out"),o(window).width()<601&&o("body").hasClass("admin-bar")&&(l.northIsVisible()||(o("body").hasClass("no-topbar")||!o("body").hasClass("no-topbar")&&o("body").hasClass("topbar-out"))&&s.addClass("mobile-sticky-menu"),l.northIsVisible()&&s.removeClass("mobile-sticky-menu")),o(window).width()>600&&s.hasClass("mobile-sticky-menu")&&s.removeClass("mobile-sticky-menu")};p(),o(window).resize(p).scroll(p)}var g=o("#header-search");o("#masthead .north-search-icon").click(function(){g.fadeIn("fast"),g.find("form").css("margin-top",-g.find("form").outerHeight()/2),g.find('input[type="search"]').focus().select(),g.find("#close-search").addClass("animate-in")}),g.find("#close-search").click(function(){g.fadeOut(350),o(this).removeClass("animate-in")}),o(window).scroll(function(){g.is(":visible")&&g.find("form").css("margin-top",-g.find("form").outerHeight()/2)}),o("#header-search input[type=search]").on("focusout",function(t){o("#close-search.animate-in").trigger("click")}),o(document).keyup(function(t){27==t.keyCode&&o("#close-search.animate-in").trigger("click")}),o("#wp-calendar tbody td:has(a)").addClass("has-link"),o(document).ready(function(){o.isFunction(o.fn.flexslider)&&o(".gallery-format-slider").flexslider({animation:"slide"})})}),function(o){o(window).load(function(){siteoriginNorth.logoScale=parseFloat(siteoriginNorth.logoScale),siteoriginNorth.smoothScroll&&o('#site-navigation a[href*="#"]:not([href="#"])').add('a[href*="#"]:not([href="#"])').not('.lsow-tab a[href*="#"]:not([href="#"]), .wc-tabs a[href*="#"]:not([href="#"]), .iw-so-tab-title a[href*="#"]:not([href="#"]), .comment-navigation a[href*="#"]').northSmoothScroll()})}(jQuery);